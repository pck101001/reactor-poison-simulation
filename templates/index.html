<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reactor Simulation</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <script src="/static/js/handler.js"></script>
</head>

<body>
    <div class="container">
        <div class="left-panel">
            <h1>Reactor Simulation</h1>

            <div id="description">
                <p>This tool simulates the concentration changes of nuclear poisons (Iodine-135, Xenon-135,
                    Promethium-149, and Samarium-149) in a nuclear reactor over time. Users can:</p>
                <ul>
                    <li>Change the full power neutron flux (Φ₀) value and use the <strong>'Initialize Chart'</strong>
                        button to calculate and display the equilibrium concentrations and maximum values after shutdown
                        for the poisons and their reactivities</li>
                    <li>Input the simulation time in days</li>
                    <li>Adjust the reactor power percentage</li>
                    <li>Control the animation speed of the simulation</li>
                    <li>Use the <strong>'Extend Simulation'</strong> button to add more data to the existing plot</li>
                    <li>Use the <strong>'Clear Simulation'</strong> button to reset the simulation</li>
                </ul>
                <p>Use this tool to understand how these poisons affect reactor behavior under different power
                    conditions.</p>
            </div>
            <div class="control-group">
                <label for="fullPowerPhi">Full Power Neutron Flux (Φ₀): </label>
                <input type="number" id="fullPowerPhi" placeholder="Enter full power neutron flux" value="2.93e13">
                <button id="initializeChart">Initialize Chart</button>
            </div>
            <div id="equilibriumValues">
                <h3>Equilibrium Values:</h3>
                <p><strong>Iodine-135:</strong> <span id="eqIodine"></span></p>
                <p><strong>Xenon-135:</strong> <span id="eqXenon"></span></p>
                <p><strong>Promethium-149:</strong> <span id="eqPromethium"></span></p>
                <p><strong>Samarium-149:</strong> <span id="eqSamarium"></span></p>
                <p><strong>Xe-135 Reactivity:</strong> <span id="eqXeReactivity"></span></p>
                <p><strong>Sm-149 Reactivity:</strong> <span id="eqSmReactivity"></span></p>
            </div>

            <div id="maxValues">
                <h3>Max Values After Shutdown:</h3>
                <p><strong>Max Xe-135 Concentration:</strong> <span id="maxXeConcentration"></span><br>
                    <span id="maxXeConcentrationTime"></span>
                </p>
                <p><strong>Max Xe-135 Reactivity:</strong> <span id="maxXeReactivity"></span><br>
                    <span id="maxXeReactivityTime"></span>
                </p>
            </div>

            <div class="control-group">
                <input type="number" id="simulationTime" placeholder="Enter simulation time in days" min="0">
                <button id="extendSimulation">Extend Simulation</button>
                <button id="clearSimulation">Clear Simulation</button>
            </div>

            <div class="control-group">
                <label for="reactorState">Reactor Power (%): </label>
                <input type="range" id="reactorState" min="0" max="1" value="1" step="0.01">
                <span id="reactorStateValue">100%Φ₀=</span>
                <span id="currentPhiValue">2.93e13</span>
            </div>

            <div class="control-group">
                <label for="animationSpeed">Animation Speed: </label>
                <input type="range" id="animationSpeed" min="10" max="200" value="50">
            </div>
        </div>

        <div class="right-panel">
            <div id="concentrationPlot" class="plot"></div>
            <div id="reactivityPlot" class="plot"></div>
        </div>
    </div>
</body>

</html>